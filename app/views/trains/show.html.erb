<p id="notice"><%= notice %></p>

<p>
  <strong>Number:</strong>
  <%= @train.number %>
</p>
<p>
  <strong> on Station:</strong>
  <% if @train.current_station.present? %>
    <%= @train.current_station.title %>
  <% else %>
  The train is not at the station
  <% end %>
</p>

<p>
  <strong> on Route:</strong>
  <% if @train.route.present? %>
    <%= @train.route.name %>
  <% else %>
    The train is not at the route
  <% end %>
</p>

<p>
  <strong>Tickets:</strong>
  <%= @train.tickets.count %>
</p>

<p>
  <strong>Start from head:</strong>
  <%= @train.start_from_head %>
</p>

<p>
  <strong>Carriages:</strong>
  <table>
    <tr>
      <th>Number</th>
      <th>Type</th>
      <th>ID</th>
    </tr>
    <% @train.carriages.order_by_train_number(@train.start_from_head).each do |carriage| %>
      <tr>
        <th><%= carriage.train_number %></th>
        <th><%= carriage.type %></th>
        <th><%= carriage.number %></th>
        <th><%= link_to 'Show', carriage_path(carriage) %></th>
      </tr>
    <% end %>
  </table>
</p>

<%= link_to 'Edit', edit_train_path(@train) %> |
<%= link_to 'Back', trains_path %>